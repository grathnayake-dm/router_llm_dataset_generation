# Router LLM Model Training Dataset

## Overview

This dataset trains a lightweight model to route user requests to one of four handler types: `base_llm`, `worker_agent`, `mcp_tool`, or `rag`. It contains **216,216** data points in **JSONL** format, totaling **3,292.45 MB** (approximately 3.3 GB).

 - The final dataset is available here on Google Drive.
    https://drive.google.com/drive/folders/1ke5Lx-ZlXECcLy6wMEdLzZedJX7GHjIb?usp=drive_link
    
- Also this Drive folder contains multiple batches representing different dataset creation cycles, each generated at different times during the project.

- The final compiled dataset is also stored in the following designated Git buckets.
https://console.cloud.google.com/storage/browser/router-llm-training-data



## Dataset Structure

- **Input**: User request and metadata.
- **Output**: Model's routing decision, handler details, and reasoning.

### Schema

#### Input

- `id`: A unique identifier for the request.
- `timestamp`: The date and time when the request was made.
- `query`: The user's question or task to be processed.
- `conversation_summary`: A brief overview of the conversation context (if any).
- `handler_registry`: A catalog listing all available handlers.
- `copilot_id`: An optional identifier for an associated copilot (if applicable).
- `thread_id`: A unique identifier for the conversation thread.

#### Output

- `select_handler_type`: The decision on which handler type (`base_llm`, `worker_agent`, `mcp_tool`, or `rag`) the router selects.
- `handler_name`: The specific name of the selected handler.
- `copilot_id`: The identifier of the copilot linked to the selected handler.
- `confidence`: A score (0.5â€“1.0) indicating the model's certainty in its decision.
- `reasoning`: An explanation of why the selected handler was chosen.
- `chain_of_thought`: A step-by-step breakdown of the router's decision-making process.
- `workspace_preference_override`: A flag indicating if workspace preferences override the default selection.

The schema was evaluated, and all data points strictly adhere to the defined structure. Any non-conforming data was removed or refined.

## Dataset Distribution

- **Total**: 216,216 data points
- **base_llm**: 58,276
  - **General-purpose LLM**: Using general-purpose models provided by third-party vendors. Hosted externally. Used for general queries. `is_workspace_default` is `false`. (~14,569, 25%)
  - **Workspace-Local LLM**: Hosted in the enterprise workspace. Optimized for internal data and private tasks. `is_workspace_default` is `true`. (~43,707, 75%)
  - `workspace_preference_override`:
    - `False`: 43,118
    - `True`: 15,158
- **worker_agent**: 51,869
  - **With all invocation arguments**: Includes all needed parameters. (~25,935, estimated 50%)
  - **Missing invocation arguments**: Lacks some parameters, may prevent invocation. (~25,934, estimated 50%)
- **mcp_tool**: 55,200
  - **With all invocation arguments**: Includes all needed parameters. (~27,600, estimated 50%)
  - **Missing invocation arguments**: Lacks some parameters, may prevent invocation. (~27,600, estimated 50%)
- **rag**: 50,871

## Notes

- Generated by an automated workflow powered by Gemini 2.5.
- Refer to the following documentation for further understanding:
https://docs.google.com/document/d/1dsCHatOLhDR9K3nOOQuyUaVPpu47D-lT47BFlTYMJxQ/edit?tab=t.npyl9twyu6l5 